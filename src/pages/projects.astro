---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { SITE_TITLE } from '../consts';

const software = [
	{
		title: 'RAMBar',
		description: 'A native macOS menu bar app for tracking memory usage across Claude Code sessions, VS Code workspaces, Chrome tabs, and Python processes.',
		href: 'https://maxghenis.com/rambar',
		repo: 'https://github.com/MaxGhenis/rambar',
		tag: 'macOS',
	},
	{
		title: 'TerminalGrid',
		description: 'A VS Code extension for keyboard-driven terminal grid management with project picker and auto-launch for AI coding tools.',
		href: 'https://maxghenis.com/terminalgrid',
		repo: 'https://github.com/MaxGhenis/terminalgrid',
		tag: 'VS Code',
	},
	{
		title: 'GrantKit',
		description: 'AI-powered grant writing and management platform.',
		href: 'https://grantkit.io',
		repo: 'https://github.com/GrantKit/grantkit',
		tag: 'AI',
	},
	{
		title: 'CodeStitch',
		description: 'Combine GitHub repos, PRs, and issues into single files for AI context.',
		href: 'https://codestitch.dev',
		repo: 'https://github.com/MaxGhenis/codestitch',
		tag: 'Developer Tools',
	},
	{
		title: 'PR Improver',
		description: 'LLM-powered tool suggesting improvements to PRs based on repo guidelines.',
		href: 'https://pr-improver.streamlit.app',
		repo: 'https://github.com/MaxGhenis/pr-improver',
		tag: 'Open Source',
	},
	{
		title: 'OEWS Explorer',
		description: 'Dashboard for exploring BLS occupational employment and wage data.',
		href: 'https://oews-explorer.streamlit.app',
		repo: 'https://github.com/MaxGhenis/oews-explorer',
		tag: 'Data Viz',
	},
];

const papers = [
	{
		title: 'What can LLMs tell us about the ETI?',
		authors: 'Max Ghenis & Jason DeBacker',
		venue: 'SSRN Working Paper',
		date: 'August 2025',
		abstract: 'We investigate how large language models perceive and simulate behavioral responses to tax policy changes, with implications for using LLMs in policy analysis.',
		links: [
			{ label: 'SSRN', href: 'https://papers.ssrn.com/sol3/papers.cfm?abstract_id=5410643' },
		],
	},
	{
		title: 'AI Model Policy Impact Forecasts: A Narrative Prompting Approach',
		authors: 'Max Ghenis',
		venue: 'Working Paper',
		date: '2024',
		abstract: 'Examining the use of large language models for forecasting policy outcomes under different U.S. presidential administrations using narrative prompting techniques.',
		links: [
			{ label: 'PDF', href: 'https://github.com/MaxGhenis/llm-presidential-outcome-forecasts/blob/main/paper/main.pdf' },
			{ label: 'Code', href: 'https://github.com/MaxGhenis/llm-presidential-outcome-forecasts' },
		],
	},
	{
		title: 'Enhancing Survey Microdata with Administrative Records',
		authors: 'Max Ghenis & Nikhil Woodruff',
		venue: 'National Tax Association Annual Meeting',
		date: 'November 2024',
		abstract: 'A novel approach to microsimulation dataset construction that combines Current Population Survey data with IRS administrative records for improved tax-benefit modeling.',
		links: [
			{ label: 'PDF', href: 'https://github.com/PolicyEngine/policyengine-us-data/blob/main/paper/main.pdf' },
			{ label: 'Code', href: 'https://github.com/PolicyEngine/policyengine-us-data' },
		],
	},
];

const jupyterBooks = [
	{
		title: 'Beer Price Controls at Yankee Stadium',
		description: 'An economic analysis of consumer welfare, revenue, and externalities from stadium beer pricing policies.',
		href: 'https://maxghenis.github.io/yankee-stadium-beer-price-controls/',
		repo: 'https://github.com/maxghenis/yankee-stadium-beer-price-controls',
	},
];
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={`Projects | ${SITE_TITLE}`} description="Software projects and academic research by Max Ghenis" />
	</head>
	<body>
		<Header />
		<main>
			<h1>Projects</h1>
			<p class="intro">
				Software I've built and research I've published—mostly at the intersection of policy, economics, and AI.
			</p>

			<section>
				<h2>Software</h2>
				<div class="software-grid">
					{software.map((project) => (
						<a href={project.href} class="software-card" target="_blank" rel="noopener">
							<div class="software-header">
								<span class="software-tag">{project.tag}</span>
								{project.repo && (
									<span class="repo-link" data-repo={project.repo} aria-label="View source">
										<svg viewBox="0 0 16 16" width="18" height="18" aria-hidden="true">
											<path fill="currentColor" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
										</svg>
									</span>
								)}
							</div>
							<h3>{project.title}</h3>
							<p>{project.description}</p>
						</a>
					))}
				</div>
			</section>

			<script>
				document.querySelectorAll('.repo-link').forEach(link => {
					link.addEventListener('click', (e) => {
						e.preventDefault();
						e.stopPropagation();
						window.open(link.dataset.repo, '_blank');
					});
				});
			</script>

			<section>
				<h2>Papers</h2>
				<div class="papers">
					{papers.map((paper) => (
						<article class="paper">
							<h3>{paper.title}</h3>
							<p class="meta">
								<span class="authors">{paper.authors}</span>
								<span class="venue">{paper.venue}</span>
								<span class="date">{paper.date}</span>
							</p>
							<p class="abstract">{paper.abstract}</p>
							<div class="links">
								{paper.links.map((link) => (
									<a href={link.href} target="_blank" rel="noopener">{link.label}</a>
								))}
							</div>
						</article>
					))}
				</div>
			</section>

			<section>
				<h2>Interactive research</h2>
				<p>
					Full research articles built with Jupyter Book, featuring interactive
					visualizations and executable code.
				</p>
				<div class="jupyter-books">
					{jupyterBooks.map((book) => (
						<a href={book.href} class="book-card" target="_blank" rel="noopener">
							<h3>{book.title}</h3>
							<p>{book.description}</p>
							<span class="view-link">View project →</span>
						</a>
					))}
				</div>
			</section>

			<section>
				<h2>Civic engagement</h2>
				<p>
					My recommendations for California elections, with detailed analysis of ballot measures and races.
				</p>
				<div class="jupyter-books">
					<a href="/voter-guides/" class="book-card">
						<h3>Voter guides</h3>
						<p>Recommendations for statewide and local elections, covering propositions, candidates, and local measures with evidence-based analysis.</p>
						<span class="view-link">View all guides →</span>
					</a>
				</div>
			</section>

			<section>
				<h2>PolicyEngine</h2>
				<p>
					As CEO of PolicyEngine, I contribute to numerous policy analyses. Visit the
					<a href="https://policyengine.org/us/research">PolicyEngine Research page</a>
					for our full portfolio of published work on tax and benefit policy.
				</p>
			</section>
		</main>
		<Footer />
	</body>
</html>

<style>
	.intro {
		color: var(--text-secondary);
		margin-bottom: 2.5rem;
		font-size: 1.125rem;
		max-width: 600px;
	}

	section {
		margin-bottom: 3.5rem;
	}

	h2 {
		margin-bottom: 1.25rem;
		padding-bottom: 0.75rem;
		border-bottom: 2px solid rgba(15, 23, 42, 0.08);
	}

	/* Software Grid */
	.software-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
		gap: 1.25rem;
	}

	.software-card {
		display: block;
		padding: 1.5rem;
		background: white;
		border: 1px solid rgba(15, 23, 42, 0.08);
		border-radius: var(--radius-lg);
		text-decoration: none;
		transition: all var(--duration-fast) var(--ease-out);
	}

	.software-card:hover {
		border-color: rgba(15, 23, 42, 0.15);
		box-shadow: var(--shadow-md);
		transform: translateY(-2px);
	}

	.software-header {
		display: flex;
		justify-content: space-between;
		align-items: center;
		margin-bottom: 0.75rem;
	}

	.software-tag {
		display: inline-block;
		padding: 0.25rem 0.625rem;
		background: var(--cream-dark);
		color: var(--text-muted);
		font-size: 0.75rem;
		font-weight: 600;
		border-radius: var(--radius-sm);
		text-transform: uppercase;
		letter-spacing: 0.05em;
	}

	.repo-link {
		color: var(--text-muted);
		cursor: pointer;
		transition: color var(--duration-fast) var(--ease-out);
	}

	.repo-link:hover {
		color: var(--amber-dark);
	}

	.software-card h3 {
		margin-bottom: 0.5rem;
		font-size: 1.125rem;
		color: var(--ink);
	}

	.software-card p {
		color: var(--text-secondary);
		font-size: 0.9375rem;
		margin: 0;
	}

	/* Papers */
	.papers {
		display: flex;
		flex-direction: column;
		gap: 1.25rem;
	}

	.paper {
		padding: 1.5rem;
		background: white;
		border: 1px solid rgba(15, 23, 42, 0.08);
		border-radius: var(--radius-lg);
	}

	.paper h3 {
		margin-bottom: 0.5rem;
		color: var(--ink);
		font-size: 1.125rem;
	}

	.meta {
		display: flex;
		flex-wrap: wrap;
		gap: 0.5rem 1rem;
		margin-bottom: 1rem;
		font-size: 0.875rem;
	}

	.authors {
		color: var(--text-secondary);
	}

	.venue {
		color: var(--text-muted);
		font-style: italic;
	}

	.date {
		color: var(--text-muted);
	}

	.abstract {
		margin-bottom: 1rem;
		color: var(--text-secondary);
	}

	.links {
		display: flex;
		gap: 0.75rem;
	}

	.links a {
		padding: 0.4rem 1rem;
		background: var(--ink);
		color: white;
		border-radius: var(--radius-md);
		text-decoration: none;
		font-size: 0.875rem;
		font-weight: 500;
		transition: all var(--duration-fast) var(--ease-out);
	}

	.links a:hover {
		background: var(--ink-soft);
		transform: translateY(-1px);
	}

	/* Jupyter Books */
	.jupyter-books {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
		gap: 1rem;
		margin-top: 1rem;
	}

	.book-card {
		padding: 1.5rem;
		background: white;
		border: 1px solid rgba(15, 23, 42, 0.08);
		border-radius: var(--radius-lg);
		text-decoration: none;
		transition: all var(--duration-fast) var(--ease-out);
	}

	.book-card:hover {
		border-color: var(--amber);
		box-shadow: var(--shadow-md);
	}

	.book-card h3 {
		margin-bottom: 0.5rem;
		color: var(--ink);
		font-size: 1.125rem;
	}

	.book-card p {
		margin-bottom: 1rem;
		color: var(--text-secondary);
	}

	.view-link {
		color: var(--amber-dark);
		font-weight: 600;
		font-size: 0.875rem;
	}

	@media (max-width: 768px) {
		.software-grid {
			grid-template-columns: 1fr;
		}
	}
</style>
