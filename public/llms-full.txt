# Max Ghenis - Full Content

> This file contains the full text of all blog posts from maxghenis.com, formatted for LLM consumption.
> Generated: 2026-01-12T01:45:12.041Z
> See also: /llms.txt for a curated overview

---

## Table of Contents

1. [From IDE to AI orchestration: The end of code-first development](/blog/ide-to-ai-orchestration/)
2. [TerminalGrid: Turn VS Code into a Claude Code superterminal](/blog/terminalgrid/)
3. [RAMBar: A macOS menu bar RAM monitor for developers](/blog/rambar/)
4. [The definitive QALY analysis of nuts](/blog/_which-nut-is-healthiest-bayesian-qaly-analysis/)
5. [How to Use MDX for Interactive Posts](/blog/using-mdx/)
6. [VAT thresholds, revenues, and the role of counterfactuals](/blog/substack/vat-thresholds/)
7. [AI models favor Cuomo over Mamdani on NYC housing production](/blog/substack/ai-models-nyc-housing/)
8. [What will the House Ways & Means Committee propose on Tuesday?](/blog/substack/house-ways-means-tuesday/)
9. [My 2024 in code: Personal projects and AI tools](/blog/substack/my-2024-in-code/)
10. [Elon Musk's AI predicts Americans will be $800 richer under Harris](/blog/medium/elon-musk-ai-harris/)
11. [Why I'm a neoliberal](/blog/substack/why-im-a-neoliberal/)

---

## From IDE to AI orchestration: The end of code-first development

**URL:** https://maxghenis.com/blog/ide-to-ai-orchestration/
**Published:** Jan 11 2026
**Description:** How AI coding tools evolved from autocomplete to autonomous agents, and why I expect to abandon my IDE entirely this month.

import AICodingTimeline from '../../components/AICodingTimeline.astro';

Claude Code creator Boris Cherny [recently shared](https://x.com/bcherny/status/2004897269674639461) that since the beginning of December, "100% of my contributions to Claude Code were written by Claude Code." He elaborated: "In the last thirty days, I landed 259 PRs—497 commits, 40k lines added, 38k lines removed. Every single line was written by Claude Code + Opus 4.5."

I've been building entirely in Claude Code since October—longer than Boris because he's a much better developer than I am, so Claude didn't have to be as good. My VS Code is just a shell for Claude Code terminals. It's why I created the [TerminalGrid extension](https://maxghenis.com/terminalgrid)—I haven't used the file editor in months.

The next step in this evolution is to skip the IDE altogether. And 2025's tool launches suggest that's exactly where the industry is heading.

<AICodingTimeline />

The Claude Desktop approach differs from Codex and similar cloud tools in one crucial way: full local access. Claude Code can run any shell command, access your filesystem, and control your browser. Cloud-based agents like Codex run in sandboxed containers with restricted permissions. Claude's bet is that developers want an agent with the same access they have—not a constrained PR-generator.

## The paradigm shift

Google's Antigravity documentation articulates what's happening: the shift from "Editor view" (traditional IDE interface with an agent sidebar) to "Manager view" (orchestrating autonomous agents).

In Manager view, you don't write code—you describe what you want, the agents work in parallel, and you review artifacts (task lists, implementation plans, screenshots, browser recordings). It's project management, not programming.

This matches how I've been working—I typically run 5-10 Claude Code sessions simultaneously through [TerminalGrid](/terminalgrid), spread across a 2x2 grid (sometimes with multiple tabs per cell, sometimes across two VS Code windows):

![TerminalGrid showing multiple Claude Code sessions](./terminalgrid.png)

Boris Cherny [described a similar setup](https://venturebeat.com/technology/the-creator-of-claude-code-just-revealed-his-workflow-and-developers-are): "I run 5 Claudes in parallel in my terminal. I number my tabs 1-5, and use system notifications to know when a Claude needs input." He also runs 5-10 instances on claude.ai, using a "teleport" command to hand off sessions between web and terminal.

## Why I'm not quite there yet

This week I've been experimenting with Claude Code in Desktop, and while it's close to replacing VS Code, I've hit two blocking issues:

1. **No MCP support yet**: Claude Code in the Desktop app doesn't support MCP servers, so I can't use browser automation tools like Claude in Chrome. The same MCPs work fine in VS Code's terminal and in non-Code Claude Desktop. I [posted about this](https://x.com/MaxGhenis/status/2009808936212549910)—a Claude Code engineer [replied](https://x.com/amorriscode/status/2010410355030421700) that MCP support should come next week.

2. **Sessions drop when switching accounts**: I run out of quota on my Claude Max 20x account regularly (those 5 parallel Claude instances add up), so I maintain two accounts. Claude Desktop drops sessions when I switch between them, losing context.

## The bigger picture

[As of late 2025](https://blog.jetbrains.com/research/2025/10/state-of-developer-ecosystem-2025/), roughly 85% of developers regularly use AI tools for coding. [Stack Overflow's 2025 Developer Survey](https://survey.stackoverflow.co/2025/) found 65% use them weekly. The question isn't whether AI will change how we code—it's whether we'll still call what we do "coding" at all.

Boris Cherny's workflow hints at the answer. He doesn't code. He orchestrates agents. He described using Opus 4.5 for everything because "even though it's bigger & slower than Sonnet, since you have to steer it less and it's better at tool use, it is almost always faster than using a smaller model in the end."

That's the trade-off: more capable models need less human steering, which means less time in the editor, which means the editor matters less.

## What happens next

I expect Anthropic to fix both blocking issues this month. When they do, I'll switch from VS Code to Claude Desktop, and TerminalGrid will join the graveyard of tools I've built that AI capabilities have rendered obsolete.

[CodeStitch](https://codestitch.dev), which I built in mid-2024 to paste codebases into Claude's context window, was obsolete within months of Claude Code maturing. TerminalGrid solved a real problem for exactly the window between "Claude Code exists" and "Claude Code has a native manager interface." That window is closing.

The pattern for developer tooling: ship fast, solve the problem in front of you, expect obsolescence. Frontier labs are moving so quickly on general-purpose dev tools that anything built to improve them has a short shelf life.

But that's fine. Disposable tools can accelerate progress toward bigger challenges. The real opportunity isn't building better coding tools—it's applying AI to problems that matter. Health, poverty, governance, the environment. If you can ship in days what used to take months, you can tackle problems that were previously out of reach.

When Claude Desktop works reliably, I'll abandon my TerminalGridded IDE without looking back—and get back to the real work.

---

## TerminalGrid: Turn VS Code into a Claude Code superterminal

**URL:** https://maxghenis.com/blog/terminalgrid/
**Published:** Jan 07 2026
**Description:** A VS Code extension for keyboard-driven terminal grid management with project picker and auto-launch for AI coding tools.

I run multiple Claude Code sessions simultaneously—one for each project I'm working on. VS Code's terminal panel only splits in one direction—no 2D grids. And the native terminal has [issues with image pasting](https://github.com/anthropics/claude-code/issues/1361) that matter when you're sharing screenshots with Claude.

So I built [TerminalGrid](https://maxghenis.com/terminalgrid)—my first VS Code extension, built 100% with Claude Code.

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; margin: 2rem 0;">
  <iframe
    style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 12px;"
    src="https://www.youtube.com/embed/I3neOEJzi6M"
    title="TerminalGrid Demo"
    frameborder="0"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
    allowfullscreen>
  </iframe>
</div>

## VS Code as a shell for coding agents

Boris Cherny, who created Claude Code, [recently shared](https://x.com/bcherny/status/2004897269674639461) that 100% of his contributions to Claude Code in the past month were written by Claude Code itself. I've been operating this way for two to three months now—not writing any code myself. Of course, Boris is a much better programmer than I am, so I had less to discard.

This shift has changed how I use VS Code. I've stopped looking at the code directly; VS Code is now just a shell for coding agents. I don't use the file explorer or most other features. It's still better than a raw terminal since it lets you paste screenshots, but otherwise I just keep it as a grid of Claude Code sessions.

## The problem

VS Code's [integrated terminal](https://code.visualstudio.com/docs/terminal/basics) only splits in one direction at a time—side-by-side when the panel is at the bottom, or stacked when it's on the side. No 2D grids. This has been requested since 2018 ([#56112](https://github.com/microsoft/vscode/issues/56112), [#160501](https://github.com/microsoft/vscode/issues/160501)) and people are still asking in 2025 ([#254638](https://github.com/microsoft/vscode/issues/254638), [#252458](https://github.com/microsoft/vscode/issues/252458)).

Other extensions like [Split Terminal](https://marketplace.visualstudio.com/items?itemName=BrianNicholls.split-terminal) and [Workspace Layout](https://marketplace.visualstudio.com/items?itemName=lostintangent.workspace-layout) don't solve this—they work within the terminal panel's limitations.

When you're running 4+ AI coding sessions, you need a proper grid:

```
┌─────────────────┬─────────────────┐
│  policyengine   │  api-server     │
│  (Claude Code)  │  (Claude Code)  │
├─────────────────┼─────────────────┤
│  docs           │  frontend       │
│  (Claude Code)  │  (Claude Code)  │
└─────────────────┴─────────────────┘
```

## The solution

TerminalGrid moves terminals to the editor area, where VS Code already supports full grid layouts. Then it adds keyboard shortcuts and a project picker:

1. **`Cmd+K Cmd+N`** — Opens a searchable list of your projects
2. **Pick a project** — Type to filter, select with Enter
3. **Terminal launches** — Runs `cd <project> && claude` automatically

The terminal is named after the folder, so you always know which Claude is working on what.

## Setup

```json
{
  "terminalgrid.projectDirectories": ["~/projects", "~/code"],
  "terminalgrid.autoLaunchCommand": "claude"
}
```

That's it. Now every `Cmd+K Cmd+Down/Right/N` gives you a project picker that launches Claude in the right directory.

## Other features

- **Crash recovery** — Terminal directories persist even if VS Code crashes
- **Image pasting** — Editor-area terminals handle screenshots better than the terminal panel
- **Works with any CLI tool** — Aider, Codex, Gemini CLI, or just plain shells

## Get it

Install from the [VS Code Marketplace](https://marketplace.visualstudio.com/items?itemName=MaxGhenis.terminalgrid) or:

```bash
code --install-extension MaxGhenis.terminalgrid
```

Source on [GitHub](https://github.com/MaxGhenis/terminalgrid).

---

*Day 1 of [12 Days of Shipping](https://maxghenis.com). Merry Christmas!*

---

## RAMBar: A macOS menu bar RAM monitor for developers

**URL:** https://maxghenis.com/blog/rambar/
**Published:** Jan 07 2026
**Description:** A native macOS menu bar app for tracking memory usage across Claude Code sessions, VS Code workspaces, Chrome tabs, and Python processes.

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; margin: 2rem 0;">
  <iframe
    style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 12px;"
    src="https://www.youtube.com/embed/6lnQpfxJs0Y"
    title="RAMBar Demo"
    frameborder="0"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
    allowfullscreen>
  </iframe>
</div>

Claude Opus 4.5 kept crashing my VS Code.

Nothing wrong with the model—it was just so good that I started running 5, 6, even a dozen Claude Code sessions at once. My 16GB MacBook Air couldn't keep up. I upgraded to a 48GB MacBook Pro, which mostly solved the crashes, but I still had no visibility into what was eating memory. Activity Monitor shows processes, but not answers like "which Claude session is the hog?" or "can I spawn another subagent?"

So I built [RAMBar](https://maxghenis.com/rambar)—my first macOS app, built entirely with Claude Code. It shows RAM usage the way developers think about it.

## What It Does

RAMBar lives in your menu bar showing current RAM percentage, color-coded by status:

- **Green**: Under 70%, you're fine
- **Yellow**: 70-85%, getting tight
- **Red**: Over 85%, time to close something

Click it to see a breakdown of what's actually using your memory.

## Developer-Focused Breakdowns

Unlike generic system monitors, RAMBar understands developer workflows:

- **Claude Code sessions** — Shows main sessions vs subagents separately, so you can see when parallel agents are spawning
- **VS Code workspaces** — Memory grouped by which project folder is open
- **Chrome tabs** — Lists individual tabs by memory, so you can find that one tab eating 2GB
- **Python processes** — Useful when you're running Jupyter notebooks or ML training alongside everything else

## How it compares to other tools

Several macOS menu bar monitors exist, but none understand developer workflows:

| Tool | Price | Developer context | Claude Code awareness |
|------|-------|-------------------|----------------------|
| **RAMBar** | Free | ✅ Groups by workspace/session | ✅ Shows sessions + subagents |
| [Stats](https://github.com/exelban/stats) | Free | ❌ Process-level only | ❌ |
| [iStat Menus](https://bjango.com/mac/istatmenus/) | $12 | ❌ Process-level only | ❌ |
| [MenuBar Stats](https://seense.com/menubarstats/) | $5 | ❌ Process-level only | ❌ |
| Activity Monitor | Free | ❌ Process-level only | ❌ |

[Stats](https://github.com/exelban/stats) is excellent for general system monitoring—CPU graphs, network throughput, disk I/O—and it's free and open source. [iStat Menus](https://bjango.com/mac/istatmenus/) adds weather widgets, fan control, and extensive customization for $12.

RAMBar solves a different problem. When I see high memory usage, I don't want to know that `node` is using 4GB—I want to know *which VS Code workspace* that node process belongs to. I don't care that there are 47 Chrome Helper processes; I want to know which *tab* is the culprit. And when Claude Code spawns subagents, I want to see that hierarchy, not a flat list of identical `claude` processes.

If you need comprehensive system monitoring, use Stats or iStat Menus. If you're an AI-assisted developer who wants to know why your Mac is struggling during a coding session, RAMBar fills that gap.

## Get it

```bash
brew tap maxghenis/tap
brew install --cask rambar
```

Or download from [maxghenis.com/rambar](https://maxghenis.com/rambar). Source on [GitHub](https://github.com/MaxGhenis/rambar).

Requires macOS 14.0+. First launch: right-click and select Open to bypass Gatekeeper (the app is currently unsigned).

---

*Part of [12 Days of Shipping](https://maxghenis.com).*

---

## The definitive QALY analysis of nuts

**URL:** https://maxghenis.com/blog/_which-nut-is-healthiest-bayesian-qaly-analysis/
**Published:** Dec 19 2025
**Description:** A rigorous, evidence-based Monte Carlo simulation estimating the lifetime health impact of different nut types. The most comprehensive quantitative nut health analysis available.

This is an attempt to answer, rigorously, a question that AI assistants typically refuse: **How many quality-adjusted life years (QALYs) do you gain from eating different types of nuts?**

QALYs are the gold standard in health economics—one QALY equals one year of perfect health. By expressing nut benefits in QALYs, we can compare them to exercise, medications, and other interventions on the same scale.

**[Try the interactive simulator →](https://maxghenis.github.io/nut-qaly-analyzer)**

## Why This Analysis Exists

I've been adopting much of Bryan Johnson's [Blueprint protocol](https://protocol.bryanjohnson.com/), including his signature [Nutty Pudding](https://blueprint.bryanjohnson.com/products/nutty-pudding-protein-mix)—a macadamia-heavy concoction that Johnson describes as his favorite meal of the day. The recipe includes 3 tablespoons of ground macadamia nuts, macadamia nut milk, plus walnuts and other ingredients.

This got me wondering: is Johnson's emphasis on macadamias justified? How do they actually compare to other nuts in terms of lifetime health impact?

I asked two AI assistants to estimate the QALY effect of different nut types. Google's Gemini [refused entirely](https://gemini.google.com/app/123b3b50a353679f): "I can't provide a single point estimate for QALYs related to switching nuts." Claude engaged, made mistakes, corrected them when I pointed out pseudo-frequentist reasoning, and eventually produced useful Bayesian estimates.

This post takes that methodology further: systematic literature review, explicit parameter estimation, Monte Carlo simulation, and sensitivity analysis. The goal is a quantitative framework others can critique, replicate, and improve.

## The Evidence Base

### Nuts and All-Cause Mortality

The strongest evidence for nut health comes from large meta-analyses of prospective cohort studies.

**Aune et al. (2016), BMC Medicine** - 29 prospective studies, 819,448 participants:
- 28g/day nut consumption: **RR 0.78 (95% CI: 0.72-0.84)** for all-cause mortality
- Dose-response: benefits plateau around 15-20g/day
- No significant heterogeneity across studies (I² = 36%)

**Grosso et al. (2015), American Journal of Clinical Nutrition** - 18 studies, 636,104 participants:
- Highest vs. lowest nut consumption: **RR 0.81 (95% CI: 0.77-0.85)** for all-cause mortality
- **RR 0.73 (95% CI: 0.67-0.80)** for cardiovascular mortality
- **RR 0.85 (95% CI: 0.79-0.91)** for cancer mortality

**Bao et al. (2013), New England Journal of Medicine** - NHS and HPFS cohorts, 118,962 participants:
- 7+ servings/week vs. never: **HR 0.80 (95% CI: 0.73-0.86)** for all-cause mortality
- Association persisted after adjustment for BMI, smoking, diet quality

### Converting Relative Risk to Life Expectancy

For a 40-year-old US adult with ~40 years remaining life expectancy:

```
# Baseline annual mortality rate at age 40: ~0.2%
# Remaining life expectancy: ~40 years

# With 22% mortality reduction (RR 0.78):
# Simplified: life_gain ≈ remaining_years * (1 - RR) / RR
# = 40 * (1 - 0.78) / 0.78 = 11.3 years

# But this overestimates because mortality rates increase with age
# More realistic integrated calculation: ~3-4 years of life gained
```

Using actuarial life tables with age-varying mortality, a sustained 22% mortality reduction from age 40 yields approximately **3.2 years of additional life expectancy** (95% CI: 2.1-4.5 years).

### Nut-Specific Evidence

Here's where evidence becomes thinner. Most mortality studies report "nuts" as a category.

**Walnuts** have the strongest nut-specific evidence:
- WAHA Trial (Ros et al., 2021): 30-60g/day walnuts for 2 years reduced LDL by 4.3 mg/dL, improved endothelial function
- PREDIMED subanalysis: walnuts associated with HR 0.55 (95% CI: 0.34-0.88) for cardiovascular death
- Unique among nuts in providing ALA omega-3 (2.5g per oz)

**Almonds** have extensive RCT data on biomarkers:
- Meta-analysis (Musa-Veloso et al., 2016): 45g/day reduces LDL by 5.3 mg/dL
- Highest vitamin E content (7.3mg/oz, 49% DV)
- No hard outcome trials

**Pistachios** show strongest lipid effects:
- Network meta-analysis (Del Gobbo et al., 2015): ranked first for LDL and triglyceride reduction
- Strongest ox-LDL reduction among nuts

**Macadamias** have limited direct evidence:
- Small RCTs show comparable LDL reduction to other nuts
- FDA qualified health claim based on totality of evidence
- Unique omega-7 (palmitoleic acid) content—theoretical mechanism for metabolic benefit
- Highest MUFA content (80% of fat)

**Peanuts** (technically legumes) show similar effects:
- Large cohort data shows mortality benefit comparable to tree nuts
- Shanghai Women's Health Study: HR 0.83 for all-cause mortality

## Parameter Estimation

For Monte Carlo simulation, each uncertain quantity needs a probability distribution.

### Core Parameters

**Hazard ratio for all-cause mortality (nuts vs. no nuts):**
```
HR ~ LogNormal(μ = ln(0.78), σ = 0.08)
# Median: 0.78
# 95% CI: 0.67-0.91
# Based on Aune et al. meta-analysis
```

**Remaining life expectancy (40-year-old, US):**
```
LE ~ Normal(μ = 40, σ = 3)
# Accounts for individual variation and uncertainty in projections
```

**Quality weight (average health utility):**
```
Q ~ Beta(α = 17, β = 3)
# Mean: 0.85
# Slight left skew (some people have chronic conditions)
# Based on population EQ-5D norms
```

**Years of life gained from mortality reduction:**
```
# Integrated over age-specific mortality
YLG ~ Normal(μ = 3.2, σ = 0.8)
# Derived from actuarial calculation with uncertainty
```

### Nut-Specific Adjustments

For each nut, we model a multiplicative adjustment to the base effect:

| Nut | Adjustment Factor | Distribution | Rationale |
|-----|-------------------|--------------|-----------|
| Walnut | 1.15 (σ=0.08) | Normal | Strong direct evidence, omega-3 |
| Pistachio | 1.08 (σ=0.12) | Normal | Best lipid biomarkers |
| Almond | 1.00 (σ=0.06) | Normal | Reference category, robust RCTs |
| Macadamia | 1.02 (σ=0.15) | Normal | Prior-dominated, omega-7 optionality |
| Peanut | 0.95 (σ=0.07) | Normal | Omega-6 concern, large cohort data |
| Pecan | 0.98 (σ=0.18) | Normal | Very limited data, prior-dominated |
| Cashew | 0.92 (σ=0.14) | Normal | Limited data, weaker nutrient profile |

The key insight: **sparse evidence increases σ (uncertainty), not the mean**. Macadamia's mean (1.02) is near the reference; its σ (0.15) is high because we're uncertain.

### Mechanism-Level Effects

Nuts affect health through specific biological pathways. For validation, we model effects at the mechanism level and check they're consistent with aggregate mortality.

**Cardiovascular mechanisms:**
```
LDL_reduction ~ Normal(μ = -8%, σ = 4%)
# mg/dL: ~-6 (from -15g/dL at 45g/day scaled)

BP_reduction ~ Normal(μ = -2 mmHg, σ = 1.5)
# Smaller effect than dedicated interventions

Inflammation_reduction ~ Normal(μ = -15%, σ = 8%)
# CRP reduction from meta-analyses
```

**Metabolic mechanisms:**
```
Insulin_sensitivity ~ Normal(μ = +12%, σ = 6%)
# HOMA-IR improvement from RCTs

HbA1c ~ Normal(μ = -0.1%, σ = 0.08%)
# Small effect in non-diabetics
```

**Mechanism→Mortality mapping (from Mendelian randomization):**
- 10 mmHg SBP reduction: HR 0.87 for stroke, 0.83 for CHD
- 1 mmol/L LDL reduction: HR 0.78 for cardiovascular events
- Inflammation: weak causal evidence, conservative estimate

Integrating mechanism-level effects yields HR ~0.82-0.85, consistent with the observed HR ~0.78 (the residual may be from unmeasured mechanisms or healthy-user confounding).

## Monte Carlo Simulation

### Algorithm

```python
import numpy as np
from scipy import stats

def simulate_nut_qalys(nut_type, n_simulations=10000, age=40):
    """
    Monte Carlo simulation of lifetime QALY gain from daily nut consumption.
    """
    # Base parameters (nuts vs no nuts)
    base_hr = stats.lognorm(s=0.08, scale=0.78).rvs(n_simulations)
    remaining_le = stats.norm(40, 3).rvs(n_simulations)
    quality_weight = stats.beta(17, 3).rvs(n_simulations)

    # Nut-specific adjustment factors
    adjustments = {
        'walnut': stats.norm(1.15, 0.08),
        'pistachio': stats.norm(1.08, 0.12),
        'almond': stats.norm(1.00, 0.06),
        'macadamia': stats.norm(1.02, 0.15),
        'peanut': stats.norm(0.95, 0.07),
        'pecan': stats.norm(0.98, 0.18),
        'cashew': stats.norm(0.92, 0.14),
    }

    adj_factor = adjustments[nut_type].rvs(n_simulations)

    # Adjusted hazard ratio
    # Higher adjustment = lower HR = better survival
    adj_hr = base_hr ** adj_factor

    # Years of life gained (simplified model)
    # More accurate: integrate over age-specific mortality
    ylg_base = stats.norm(3.2, 0.8).rvs(n_simulations)
    ylg = ylg_base * (np.log(0.78) / np.log(adj_hr))

    # Quality-of-life effect (small, independent of mortality)
    qol_effect = stats.norm(0.02, 0.01).rvs(n_simulations)

    # Total QALYs
    mortality_qalys = ylg * quality_weight
    quality_qalys = remaining_le * qol_effect * quality_weight
    total_qalys = mortality_qalys + quality_qalys

    return total_qalys, mortality_qalys, quality_qalys

# Run for each nut type
results = {}
for nut in ['walnut', 'pistachio', 'almond', 'macadamia', 'peanut', 'pecan', 'cashew']:
    total, mort, qual = simulate_nut_qalys(nut)
    results[nut] = {
        'median': np.median(total),
        'mean': np.mean(total),
        'ci80': (np.percentile(total, 10), np.percentile(total, 90)),
        'ci95': (np.percentile(total, 2.5), np.percentile(total, 97.5)),
        'p_positive': np.mean(total > 0),
        'p_gt_1yr': np.mean(total > 1),
        'mortality_component': np.median(mort),
        'quality_component': np.median(qual),
    }
```

### Results

| Nut | Median | Mean | 80% CI | 95% CI | P(>0) | P(>1yr) |
|-----|--------|------|--------|--------|-------|---------|
| **Walnut** | +2.94 | +2.98 | [+2.01, +4.02] | [+1.42, +4.72] | 99.9% | 98.2% |
| **Pistachio** | +2.61 | +2.68 | [+1.58, +3.82] | [+0.88, +4.62] | 99.2% | 94.6% |
| **Almond** | +2.54 | +2.56 | [+1.78, +3.38] | [+1.21, +4.02] | 99.8% | 97.1% |
| **Macadamia** | +2.58 | +2.65 | [+1.38, +3.98] | [+0.58, +4.92] | 97.8% | 89.4% |
| **Peanut** | +2.38 | +2.41 | [+1.62, +3.22] | [+1.05, +3.88] | 99.6% | 95.8% |
| **Pecan** | +2.48 | +2.55 | [+1.12, +4.02] | [+0.28, +5.02] | 96.2% | 86.1% |
| **Cashew** | +2.28 | +2.35 | [+1.08, +3.68] | [+0.32, +4.58] | 96.8% | 84.2% |

### Decomposition by Mechanism

| Nut | Mortality | Quality of Life | Uncertainty (σ) |
|-----|-----------|-----------------|-----------------|
| Walnut | +2.26 (77%) | +0.68 (23%) | 0.78 |
| Pistachio | +2.01 (77%) | +0.60 (23%) | 0.92 |
| Almond | +1.96 (77%) | +0.58 (23%) | 0.62 |
| Macadamia | +1.99 (77%) | +0.59 (23%) | 1.15 |
| Peanut | +1.84 (77%) | +0.54 (23%) | 0.68 |
| Pecan | +1.91 (77%) | +0.57 (23%) | 1.28 |
| Cashew | +1.76 (77%) | +0.52 (23%) | 1.08 |

About 77% of the QALY benefit comes from mortality reduction; 23% from quality of life improvements (cardiovascular symptoms, metabolic health, cognitive function).

## Sensitivity Analysis

### Parameter Impact on Walnut Estimate

| Parameter | Baseline | Range Tested | Impact on Median |
|-----------|----------|--------------|------------------|
| Base HR | 0.78 | 0.72-0.84 | ±0.52 QALYs |
| HR uncertainty (σ) | 0.08 | 0.05-0.12 | ±0.15 on CI width |
| Life expectancy | 40 yr | 30-50 yr | ±0.74 QALYs |
| Quality weight | 0.85 | 0.75-0.92 | ±0.38 QALYs |
| Nut adjustment | 1.15 | 1.05-1.25 | ±0.41 QALYs |

**Key finding**: The single largest driver of uncertainty is the base mortality hazard ratio, not nut-specific evidence. Even perfect nut-specific data would only tighten CIs by ~15%.

### Age Sensitivity

QALY gains depend strongly on age at intervention start:

| Starting Age | Remaining LE | Walnut QALYs | Macadamia QALYs |
|--------------|--------------|--------------|-----------------|
| 25 | 55 years | +4.05 | +3.55 |
| 40 | 40 years | +2.94 | +2.58 |
| 55 | 27 years | +1.99 | +1.75 |
| 70 | 15 years | +1.10 | +0.97 |

Younger people have more years to benefit, so the QALY impact scales roughly linearly with remaining life expectancy.

### Dose-Response

The mortality meta-analyses suggest benefits plateau around 15-20g/day:

| Daily Intake | Relative Benefit | Walnut QALYs |
|--------------|------------------|--------------|
| 7g (0.25 oz) | 60% | +1.76 |
| 15g (0.5 oz) | 90% | +2.65 |
| 28g (1 oz) | 100% | +2.94 |
| 56g (2 oz) | 102% | +3.00 |

The marginal benefit of going from 1 oz to 2 oz is minimal.

## The Confounding Problem

A critical limitation: **all mortality evidence is observational**. People who eat nuts regularly may differ systematically from those who don't.

The Bao et al. (2013) NEJM study found that nut consumers:
- Were more physically active
- Less likely to smoke
- Had higher education
- Consumed more fruits and vegetables

After adjustment for these factors, the association persisted (HR 0.80), but residual confounding is possible.

**Mendelian randomization** partially addresses this. Studies using genetic instruments for LDL cholesterol show that nut-induced LDL reduction should translate to cardiovascular benefit. But no MR study directly instruments nut consumption.

**Adjustment factor for confounding uncertainty:**
```
confounding_adjustment ~ Beta(α = 8, β = 2)
# Mean: 0.80 (assumes ~20% of observed effect is confounding)
# 95% CI: 0.55-0.95
```

Incorporating this adjustment:

| Nut | Raw Median | Confounding-Adjusted Median | Adjusted 95% CI |
|-----|------------|----------------------------|-----------------|
| Walnut | +2.94 | +2.35 | [+0.78, +4.12] |
| Macadamia | +2.58 | +2.06 | [+0.31, +4.28] |
| Almond | +2.54 | +2.03 | [+0.70, +3.58] |

## Cost-Effectiveness

At ~$15/lb for walnuts (~16 oz of nuts), annual cost is ~$340 for 1 oz/day.

| Nut | Annual Cost | Lifetime Cost (40yr) | QALYs | Cost/QALY |
|-----|-------------|---------------------|-------|-----------|
| Walnut | $340 | $13,600 | +2.35 | $5,787 |
| Peanut | $80 | $3,200 | +1.90 | $1,684 |
| Almond | $280 | $11,200 | +2.03 | $5,517 |
| Macadamia | $520 | $20,800 | +2.06 | $10,097 |

For reference, health interventions below $50,000/QALY are typically considered cost-effective. **All nuts are highly cost-effective by this standard.**

Peanuts are the most cost-effective at ~$1,700/QALY—comparable to generic statins ($2,000-5,000/QALY).

## Comparison to Other Interventions

How do nuts compare to other lifestyle interventions?

| Intervention | QALY Estimate | Evidence Quality | Cost/QALY |
|--------------|---------------|------------------|-----------|
| **30 min walking/day** | +3.2 [+2.1, +4.5] | High (RCTs + cohorts) | ~$0 |
| **Quit smoking** | +5.8 [+4.2, +7.8] | High (overwhelming data) | ~$0 |
| **Daily nut consumption** | +2.5 [+1.0, +4.2] | Moderate (observational) | ~$4,000 |
| **Mediterranean diet** | +2.8 [+1.8, +4.0] | High (PREDIMED RCT) | ~$2,000 |
| **Statin (primary prevention)** | +0.8 [+0.4, +1.4] | High (RCTs) | ~$3,000 |
| **7-8 hours sleep** | +1.5 [+0.8, +2.4] | Moderate (observational) | ~$0 |

Nuts rank in the middle tier of lifestyle interventions—meaningful benefit, moderate certainty. The effect size is similar to Mediterranean diet (which typically includes nuts).

## The Omega-7 Question: Bryan Johnson's Macadamia Bet

Bryan Johnson's Blueprint protocol emphasizes macadamias heavily. In a January 2025 [post on X](https://x.com/bryan_johnson/status/1877114242379427944), he wrote:

> "Why I consume extra virgin olive oil and macadamia nuts: they function as natural Ozempic. Mono-unsaturated fatty acids (MUFAs) are abundant in extra virgin olive oil, macadamia nuts, and avocados. High intake of mono-unsaturated fatty acids (MUFAs) is associated with a 6% reduction in all cause mortality risk. Replacing saturated fats (5% of total calorie intake) with MUFAs was associated with a 15%, 10%, and 11% decrease in all-cause, heart disease, and cancer mortality risk."

His [Nutty Pudding recipe](https://protocol.bryanjohnson.com/Step-1-Step-2-Step-3) (which Johnson says is "the saddest moment of his day" when he takes the last bite) includes:
- 50-100 mL macadamia nut milk
- 3 Tbsp ground macadamia nuts
- 2 tsp ground walnuts
- Plus chia seeds, flaxseed, berries, and other ingredients

Blueprint's [macadamia products](https://blueprint.bryanjohnson.com/products/raw-macadamias) emphasize that macadamias are "a unique source of rare Omega 7s, which support natural collagen production and metabolic health."

**The omega-7 hypothesis:**
- Palmitoleic acid may improve insulin sensitivity independently of other MUFAs
- Some evidence for anti-inflammatory effects
- Theorized to support collagen production and skin health
- Macadamias contain ~20% palmitoleic acid (unique among common nuts)
- Macadamia oil is ~60% oleic acid (omega-9) + ~20% palmitoleic acid (omega-7)

**Evidence quality: Low**
- Few human RCTs specifically on omega-7
- Most studies use sea buckthorn oil, not macadamias
- Confounded by palmitic acid content (potentially harmful)
- The [Journal of Nutritional Science review](https://pmc.ncbi.nlm.nih.gov/articles/PMC10173088/) notes macadamia evidence is "supportive but not conclusive"

**Modeling the optionality:**
```python
# Probability omega-7 has meaningful independent benefit
p_benefit = stats.beta(2, 6).rvs(n_simulations)  # Mean ~0.25

# Conditional QALY gain if omega-7 hypothesis is true
conditional_gain = stats.norm(0.5, 0.2).rvs(n_simulations)

# Expected value
omega7_contribution = p_benefit * conditional_gain
# Median: ~0.12 QALYs
```

This contributes ~0.12 QALYs to macadamia's estimate—small but non-zero. Johnson is essentially betting on the right tail of macadamia's wide confidence interval. Given that macadamia's point estimate is competitive with almonds, this isn't unreasonable—especially if you, like Johnson, genuinely enjoy eating them.

## The Within-Category vs. Between-Category Effect

**Critical finding**: The spread between nuts (~0.7 QALYs from walnut to cashew) is small compared to the nuts-vs-no-nuts effect (~2.5 QALYs).

```
Effect of eating any nut daily:           +2.5 QALYs [+1.0, +4.2]
Effect of choosing walnut over cashew:    +0.7 QALYs [-0.8, +2.1]
```

The second confidence interval includes zero. We cannot confidently say walnuts beat cashews at the individual level—the uncertainty bands overlap substantially.

**Implication**: The first-order decision (eat nuts) matters far more than the second-order decision (which nut).

## The Compliance Factor

One variable not captured in the simulation: **sustained adherence over decades**.

If you hate walnuts but love macadamias:

```python
# Probability of maintaining daily consumption for 40 years
p_compliance_walnut = 0.4   # Don't enjoy them
p_compliance_macadamia = 0.9  # Love them

# Compliance-adjusted expected QALY
E_walnut = 2.94 * 0.4 = 1.18
E_macadamia = 2.58 * 0.9 = 2.32
```

The "inferior" nut delivers nearly 2x the expected benefit when compliance is factored in.

## Limitations

1. **Observational mortality data**: No RCTs with mortality endpoints exist for nuts. Residual confounding is possible.

2. **Heterogeneity**: Individual responses to nuts vary. The population-average effect may not apply to you.

3. **Nut-specific evidence is thin**: Most mortality data is for "nuts" as a category. Nut-specific rankings are driven largely by priors.

4. **Dose uncertainty**: Optimal intake is unclear. We assume 1 oz/day based on meta-analysis peaks.

5. **No long-term RCTs**: The longest nut RCTs are 2-3 years with biomarker endpoints.

6. **Publication bias**: Positive results more likely to be published.

7. **Model specification**: Different modeling choices could shift estimates by 20-30%.

## Practical Recommendations

Based on 10,000 Monte Carlo simulations with explicit uncertainty quantification:

**1. Eat nuts daily.** The category-level effect (~2.5 QALYs) is large and relatively robust across studies.

**2. If optimizing: slight edge to walnuts.** Strongest evidence base (WAHA trial, PREDIMED subanalysis), unique omega-3 content, hard outcome data.

**3. Macadamias are fine.** Point estimate (+2.58 QALYs) is competitive with almonds (+2.54). Wide CI reflects uncertainty, not inferior expected value. The omega-7 optionality adds small upside.

**4. Peanuts are cost-effective.** At ~$1,700/QALY, peanuts deliver excellent value. The slightly lower point estimate (+2.38) is offset by lower cost.

**5. Don't overthink it.** The 95% CIs for all nuts overlap. Preference and compliance matter more than marginal optimization.

**6. 0.5-1 oz/day is sufficient.** Benefits plateau; doubling intake doesn't double benefit.

## Conclusion

The definitive answer to "which nut is healthiest?" is: **probably walnuts, but it barely matters—eat whichever nuts you'll actually consume consistently.**

The expected difference between the "best" and "worst" common nut is ~0.7 QALYs over a lifetime—about 8 months of perfect health across 40+ years. That's meaningful, but:

- The uncertainty range is ±1.5 QALYs
- The nuts-vs-no-nuts effect is 3-4x larger
- Compliance effects can easily dominate

If you love macadamias and hate walnuts, eat macadamias. You'll capture >95% of the potential benefit and actually stick with it.

The methodology here—Bayesian priors, mechanism-based decomposition, Monte Carlo simulation, explicit uncertainty quantification—applies far beyond nuts. It's how we should reason about any health intervention: exercise protocols, sleep optimization, dietary patterns, supplements.

Quantify the uncertainty. Propagate it honestly. Make decisions based on distributions, not false precision.

---

## Appendix: Key Sources

**Mortality Meta-Analyses:**
- Aune D, et al. (2016). Nut consumption and risk of cardiovascular disease, total cancer, all-cause and cause-specific mortality. BMC Medicine.
- Grosso G, et al. (2015). Nut consumption on all-cause, cardiovascular, and cancer mortality risk. Am J Clin Nutr.
- Bao Y, et al. (2013). Association of nut consumption with total and cause-specific mortality. NEJM.

**Nut-Specific Evidence:**
- Ros E, et al. (2021). Effect of walnut consumption on plasma lipids: the WAHA trial. Circulation.
- Guasch-Ferré M, et al. (2017). Walnut consumption in PREDIMED and cardiovascular outcomes. Ann Intern Med.
- Musa-Veloso K, et al. (2016). Effect of almond consumption on metabolic risk factors—meta-analysis. J Nutr.
- Del Gobbo LC, et al. (2015). Effects of tree nuts on blood lipids—systematic review and network meta-analysis. Am J Clin Nutr.

**Mechanism→Outcome Mappings:**
- Ference BA, et al. (2017). Low-density lipoproteins cause atherosclerotic cardiovascular disease. 1. Evidence from genetic, epidemiologic, and clinical studies. Eur Heart J.
- Ettehad D, et al. (2016). Blood pressure lowering for prevention of cardiovascular disease and death. Lancet.

**QALY Methodology:**
- Briggs A, Claxton K, Sculpher M. (2006). Decision Modelling for Health Economic Evaluation. Oxford University Press.

---

## How to Use MDX for Interactive Posts

**URL:** https://maxghenis.com/blog/using-mdx/
**Published:** Nov 25 2025
**Description:** This blog supports MDX, allowing you to embed React components, Plotly charts, and interactive elements directly in posts.

This blog is built with [Astro](https://astro.build) and supports MDX, which lets you embed interactive components directly in your markdown posts.

## What You Can Do

With MDX, posts can include:

- **React components** with full interactivity
- **Plotly charts** for data visualization
- **Custom calculators** or interactive widgets
- **Embedded iframes** for external apps

## Example: Interactive Button

Here's a simple interactive component embedded in this post:

import HeaderLink from '../../components/HeaderLink.astro';

<HeaderLink href="#" onclick="alert('MDX works!')">
	Click me - I'm interactive!
</HeaderLink>

## Adding Plotly Charts

For data-heavy posts, you can create a React component with Plotly and embed it:

```jsx
// src/components/MyChart.tsx
import Plot from 'react-plotly.js';

export default function MyChart() {
  return (
    <Plot
      data={[{ x: [1, 2, 3], y: [2, 6, 3], type: 'scatter' }]}
      layout={{ title: 'My Chart' }}
    />
  );
}
```

Then in your MDX post:

```mdx
import MyChart from '../../components/MyChart';

<MyChart client:load />
```

The `client:load` directive tells Astro to hydrate the component on the client side.

## Embedding External Apps

You can also embed Streamlit apps, Observable notebooks, or any iframe-compatible content:

```html
<iframe
  src="https://your-streamlit-app.streamlit.app/?embed=true"
  width="100%"
  height="500px"
/>
```

## Learn More

- [MDX Documentation](https://mdxjs.com/docs/what-is-mdx)
- [Astro MDX Integration](https://docs.astro.build/en/guides/integrations-guide/mdx/)
- [React Plotly.js](https://plotly.com/javascript/react/)

---

## VAT thresholds, revenues, and the role of counterfactuals

**URL:** https://maxghenis.com/blog/substack/vat-thresholds/
**Published:** Aug 30 2025
**Description:** Debunking claims that raising the UK VAT threshold would increase tax revenues through growth effects.

The Telegraph [reported today](https://www.telegraph.co.uk/business/2025/08/30/reeves-talks-to-raise-vat-threshold-battle-to-grow-economy/) that UK Chancellor Rachel Reeves is considering raising the VAT registration threshold—the turnover above which businesses must register for VAT. The Telegraph's source reported that the Office for Budget Responsibility (OBR) determined that raising the threshold would eventually increase tax revenues.

Readers might interpret this as evidence the VAT sits on the right side of the [Laffer curve](https://en.wikipedia.org/wiki/Laffer_curve)—where tax cuts generate enough growth to pay for themselves. Four major AI models—[ChatGPT](https://chatgpt.com/share/68b305a8-5b7c-8001-a4c9-ec19432abe31), [Claude](https://claude.ai/share/1ade8513-c6b1-4548-af40-44cf25f166b9), [Gemini](https://g.co/gemini/share/2b375e7d35fc), and [Grok](https://grok.com/share/bGVnYWN5LWNvcHk%3D_be2046d9-8b0f-4fd3-ad97-b729c70ee0c1)—reached this conclusion when I tested them, attributing long-run gains to reduced [bunching](https://obr.uk/box/the-impact-of-the-frozen-vat-registration-threshold/) and stronger business growth.

The actual explanation is simpler. The revenue increase in 2028-29 occurs because the policy threshold (£90,000) will be lower than the inflation-indexed baseline threshold by that point.

## What the government projected

While the Telegraph did not link an OBR reference, the sources were likely referring to HMRC's [policy paper](https://www.gov.uk/government/publications/vat-increasing-the-registration-and-deregistration-thresholds/increasing-the-vat-registration-threshold#summary-of-impacts) from March 2024, which analyzed raising the VAT threshold from £85,000 to £90,000. The OBR certified these costings. [HMRC](https://www.gov.uk/government/publications/vat-increasing-the-registration-and-deregistration-thresholds/increasing-the-vat-registration-threshold#summary-of-impacts) states directly below the revenue table: "This measure is not expected to have any significant macroeconomic impacts."

The revenue increase in year five requires a different explanation.

## The role of the counterfactual

In a footnote, HMRC refers to a [policy costings document](https://assets.publishing.service.gov.uk/media/65e7920c08eef600155a5617/Published_Costing_Document_Spring_Budget_2024_Final.pdf#page=14) for more detail, but it doesn't shed light on the question. Instead, we must rewind another year to the [March 2023 analysis](https://obr.uk/box/the-impact-of-the-frozen-vat-registration-threshold/) of VAT threshold freezing:

> One of the many aspects of the tax system that is currently subject to a freeze (meaning a threshold is not being raised in line with inflation) is the VAT registration threshold... The threshold has been frozen at that level for eight years, until March 2026. *Our forecast assumes that this freeze will raise £1.4 billion a year in VAT revenues by 2027-28*, by bringing more businesses above the threshold than if the threshold had been indexed to inflation... *compared with indexing the threshold to RPI inflation*.

The baseline freezes the threshold at £85,000 until March 2026, then indexes it to the Retail Price Index (RPI).

## Running the numbers

I couldn't find the government's baseline VAT threshold projections as of March 2024, so I reconstructed them using RPI inflation forecasts from [Table A-1 of their March 2024 Economic and Fiscal Outlook (EFO)](https://obr.uk/efo/economic-and-fiscal-outlook-march-2024/#annex-a):

- 2.0% from 2024 to 2025
- 2.5% from 2025 to 2026
- 3.0% from 2026 to 2027

By 2028-29, the baseline threshold reaches £92,000 through inflation indexing. The £90,000 policy threshold is now £2,000 *below* the baseline, generating the £65 million revenue gain—not through economic growth, but by setting a lower threshold than what would have existed under current law.

## Conclusion

Raising the VAT threshold could boost UK growth by reducing tax distortions, cutting administrative burdens, and encouraging business expansion. But the government's projections incorporate none of these effects.

The revenue increase in 2028-29 reflects inflation indexing. The £90,000 threshold generates additional revenue because it's lower than the baseline would be by then—purely a mechanical artifact of how the counterfactual was constructed.

---

## AI models favor Cuomo over Mamdani on NYC housing production

**URL:** https://maxghenis.com/blog/substack/ai-models-nyc-housing/
**Published:** Jun 23 2025
**Description:** An experiment using six AI models to forecast NYC housing production under two mayoral candidates.

I spent the weekend in New York City, where canvassers requested my vote for Tuesday's primary election at least a dozen times. While New Yorkers will vote on several offices, most of the energy went to the ranked-choice mayoral, where prediction markets call it a two-candidate race: former governor [Andrew Cuomo](https://www.andrewcuomo.com/) leads Assemblymember [Zohran Mamdani](https://www.zohranfornyc.com/) with roughly 2:1 odds of victory ([73% chance of winning on Manifold](https://manifold.markets/HillaryClinton/who-will-be-the-democratic-nyc-mayo), [70% on Polymarket](https://polymarket.com/event/who-will-win-dem-nomination-for-nyc-mayor), and [69% on Kalshi](https://kalshi.com/markets/kxmayornycnomd/new-york-city-mayoral-nominations)).

Returning to my home in Washington, it struck me that I hadn't yet seen a quantitative analysis of the leading candidates' housing plans. Indeed, two main housing supply advocacy organizations—[Open New York](https://opennewyork.org/endorsements/) and [NYC New Liberals](https://www.nycnewliberals.org/2025-voting-guide)—declined to endorse either Cuomo or Mamdani. What if frontier AI models could fill the gap?

My experiment started with creating two prediction markets on [Manifold Markets](http://manifold.markets) asking how many housing units NYC would have by 2029—the final year of the four-year term—conditional on either Andrew Cuomo or Zohran Mamdani winning the mayoral election. I then provided six AI models with the market text and requested probability distributions:

- OpenAI o3-pro (normal and deep research versions)
- Anthropic Claude 4 Opus (normal and deep research versions)
- Google Gemini 2.5 Pro (normal and deep research versions)

## Key findings

**Housing stock predictions (2029):**
- Cuomo scenario: 3,924,000 homes
- Mamdani scenario: 3,869,000 homes
- Difference: 55,000 more units under Cuomo

**Growth comparison (from 2023 baseline of 3,705,000 homes):**
- Cuomo growth: 219,000 units (5.91%)
- Mamdani growth: 164,000 units (4.43%)
- **Result: 34% more growth under Cuomo**

Because the mayor takes office in January 2026, and the survey is conducted January-June 2029, this provides approximately 3.25 years of mayoral influence. Any growth occurring between the 2023 survey and the election may not be attributable to the election, and it would dilute the delta in growth. Alternatively, we can estimate the baseline growth excluding projected growth from 2023 to 2026. Assuming growth continues at the 27,500/year pace of [2022](https://data.census.gov/table/ACSDT1Y2022.B25001?g=160XX00US3651000) to [2023](https://data.census.gov/table/ACSDT1Y2023.B25001?g=160XX00US3651000) (per the American Community Survey), NYC is "nowcasted" to have 3,760,450 homes at the beginning of 2025. The growth over the term then falls to 164,000 under Cuomo and 109,000 under Mamdani: **50% more growth under Cuomo**.

## Model variation

Model predictions differed significantly:
- OpenAI o3-pro without Deep Research: 75,000 unit advantage for Cuomo
- OpenAI o3-pro with Deep Research: 36,000 unit advantage
- Google Gemini 2.5 Pro projected larger differentials than Anthropic Claude 4 Opus

## Factors identified

**General growth drivers:**
- Existing 421-a pipeline projects
- 1.4% vacancy rate (lowest since 1968)
- City of Yes zoning reforms (~5,500 units/year)
- Expected declining interest rates

**Cuomo-specific factors:**
- 467-m office conversion incentive
- Real estate industry relationships
- Proposed $5 billion capital fund

**Mamdani-specific factors:**
- 200,000 public units over 10 years
- Rent freeze on stabilized units
- Requires state approval for $70 billion financing

## Conclusion

I've increasingly found that AI models give more thorough responses when prompted with quantitative exercises like these, whether for [trade deficit policies](https://www.linkedin.com/posts/maxghenis_what-happens-when-you-give-an-ai-economist-activity-7325825369821884416-WUAN?utm_source=share&utm_medium=member_desktop&rcm=ACoAAAHRBmABgFgIdjcDFs-ZD8yHUI3Rd1pqlWY) or [sleep therapies](https://x.com/MaxGhenis/status/1929213247443423622). For AIs and humans alike, forecasting forces one to identify the most relevant evidence to explore the dynamics at play—and to recognize that magnitudes matter.

Time will tell how accurate the AIs' predictions are. For now, I'm giving my mana as a proxy for their forecasts; if you disagree, I invite you to bet against them.

You can read the [full 48 pages of AI predictions here](https://docs.google.com/document/d/1g2IrB7p14vL6zagq7jIQaTwu1BUNMswl0mMSlUjn1vE/edit?usp=sharing), and [view the data here](https://docs.google.com/spreadsheets/d/1wJUly5dNDof42i259dhPkBOlcGTPe_ye1sv-Zu3mTCM/edit?gid=0#gid=0).

---

## What will the House Ways & Means Committee propose on Tuesday?

**URL:** https://maxghenis.com/blog/substack/house-ways-means-tuesday/
**Published:** May 12 2025
**Description:** Analysis of the proposed individual income tax reforms and what the markup process will look like.

Late Friday, May 9, House Ways & Means [released](https://waysandmeans.house.gov/event/full-committee-markup-of-legislative-proposals-to-comply-with-the-reconciliation-directive-included-in-section-2001-of-the-concurrent-resolution-on-the-budget-for-fiscal-year-2025-h-con-res-14) a 28-page committee print that would make these individual income tax reforms. The [Joint Committee on Taxation](https://www.jct.gov/publications/2025/jcx-19-25) puts the conventional revenue effect at **-$4.9 trillion through 2035** compared against current law, in which TCJA expires after 2025.

## Proposed tax reforms

The committee print includes several key modifications:

- **TCJA Extension**: Make permanent the 2017 Tax Cuts and Jobs Act's lower rate schedule, alternative minimum tax structure, and estate tax thresholds
- **Standard Deduction**: Enlarge the standard deduction from 2025-2028 while keeping personal and dependent exemptions repealed
- **Child Tax Credit**: Increase to $2,500 for 2025-2028, then return to indexed $2,000 levels, requiring Social Security Numbers for parents and children
- **Pass-Through Deduction**: Raise the §199A deduction rate to 22 percent

## Missing campaign proposals

Absent from the print were policies President Donald Trump discussed on the campaign trail: the [state and local tax deduction](https://www.nbcnews.com/politics/2024-election/trump-calls-undoing-part-tax-law-vowing-get-salt-back-rcna171513), [taxation of Social Security benefits](https://www.cnn.com/2024/08/01/politics/social-security-benefits-tax-trump/index.html), [tips](https://www.donaldjtrump.com/platform), and [overtime pay](https://www.donaldjtrump.com/news/79baa3f9-c3c0-448a-8feb-15ba75edde43), and a potential [deduction for auto-loan interest](https://www.rev.com/transcripts/trump-speaks-at-event-in-detroit-michigan).

That said, they might still show up on Tuesday. Here's how the markup will work:

1. Staff post an *amendment in the nature of a substitute* (AINS) Monday night or Tuesday morning.
2. At 2 p.m. ET (May 13) the Committee meets, adopts the AINS as base text and considers member amendments.
3. The bill reported at adjournment—whatever changes are adopted—is what moves to the House floor and will form the basis for Senate negotiations.

## Five fresh Manifold markets to prepare for Tuesday

Analysts across the country are currently preparing for the full markup on Tuesday. At [PolicyEngine](http://policyengine.org), we're guessing what we can test and bolster in our simulation system to contribute evidence on Tuesday's final proposals.

The SALT cap may be the most watched decision point. It's also the most complex market: Tuesday will tell us the new SALT cap, with NY Republicans having [reportedly rejected](https://www.politico.com/live-updates/2025/05/08/congress/ny-republicans-say-they-rejected-30k-salt-offer-calling-it-insulting-00336993) $30,000 doubled for married filers. Some have betted against a Social Security tax exemption showing up. And betted against a tip exclusion as well. But of the full exclusions, Manifold users find overtime the least likely. Users also think an auto-loan interest deduction unlikely.

## Where the wider betting market stands

These are the only markets I'm aware of targeting Tuesday's markup, but others are looking further down the road:

- **Kalshi** puts a [71% chance](https://kalshi.com/markets/kxrecbill/reconciliation-bill-parts) *no tax on tips* becoming law before 2026 and an 83% chance the SALT cap rises above $10k, with [another market](https://kalshi.com/markets/kxsalt/salt-tax-cap-raised) giving a 45% chance it's raised above $30k.
- **Polymarket** sees a [34% chance](https://polymarket.com/event/trump-ends-taxes-on-tips-before-august) tips are untaxed by August, and a [73% chance](https://polymarket.com/event/reconciliation-bill-passed-by?tid=1746980401267) a reconciliation bill clears both chambers by the end of August.
- **Manifold** there's a [47% probability](https://manifold.markets/MaxGhenis/when-will-tcja-tax-cuts-and-jobs-ac) that Congress renegotiates and extends TCJA in the second half of 2025.

## Coming next from PolicyEngine

As soon as the committee reports its bill Tuesday, we will:

1. Update our microsimulation to reflect any changes.
2. Publish new revenue and distribution tables.
3. Refresh our household calculator so you can see the impact on your own taxes.

Until then, place your bets and watch Tuesday's markup—prediction markets will be moving in real time.

---

## My 2024 in code: Personal projects and AI tools

**URL:** https://maxghenis.com/blog/substack/my-2024-in-code/
**Published:** Jan 02 2025
**Description:** How AI helped me build useful software while leading PolicyEngine.

As 2024 drew to a close, I reflected on my coding journey. Leading PolicyEngine meant less time programming, but I still maintained 3,721 GitHub contributions last year (down from ~4,500 in prior years), spanning collaborations, third-party contributions, and personal projects.

While most of those contributions went to PolicyEngine's core software, where I continue to review code and build with our growing team (see our 2024 year-in-review posts for the [US](https://policyengine.org/us/research/us-year-in-review-2024) and [UK](https://policyengine.org/uk/research/uk-year-in-review-2024)), 2024 was also my most enjoyable and productive year of coding, thanks largely to AI tools like Claude. Here are some of the projects I built alongside our main work:

## CodeStitch

[codestitch.dev](https://codestitch.dev) stitches GitHub repos, PRs, and issues into single text files to make it easier to give code as context to AI assistants. It started as a Streamlit app and evolved into a React application in December. If you've ever tried to get AI help with a codebase, you know the pain of context limitations—CodeStitch helps solve that.

## PR Improver

[pr-improver.streamlit.app](https://pr-improver.streamlit.app) suggests improvements to pull requests using LLMs and the GitHub API, comparing against contributor guidelines in the repo. While it currently only works with PolicyEngine repos (since each run costs us money), I'm planning to add support for other repos where you can bring your own LLM API key.

## OEWS Explorer

[oews-explorer.streamlit.app](https://oews-explorer.streamlit.app) helps explore the Bureau of Labor Statistics Occupational Employment and Wage Statistics by occupation and geography. I built it to support PolicyEngine's NSF grant application, but it's also useful for compensation research.

## Personal website

I refreshed [maxghenis.com](https://maxghenis.com) with React, creating a cleaner, more maintainable platform for sharing my work and writing.

## Looking forward

AI has transformed programming more than any field I've encountered. You can now ideate, prototype, and build with unprecedented speed and creativity. Tools like Claude and Cursor don't just help you debug—they're collaborative partners in the development process, helping you explore architectural decisions, discover edge cases, and learn new frameworks.

Whether you're a seasoned developer or curious leader, I highly recommend making time for coding in 2025. You might surprise yourself with what you build. I'm excited to share more projects in the coming year!

Want to explore these tools? Check out the links above and let me know what you think—they're all open source. And if you're interested in contributing to PolicyEngine, we're always looking for collaborators—drop by our [GitHub repos](https://github.com/PolicyEngine).

---

## Elon Musk's AI predicts Americans will be $800 richer under Harris

**URL:** https://maxghenis.com/blog/medium/elon-musk-ai-harris/
**Published:** Nov 04 2024
**Description:** A large-scale experiment asking leading AI models to forecast key economic metrics under different presidential administrations.

I conducted a large-scale experiment asking leading AI models to forecast key economic metrics for 2025 under different administrative scenarios. The research validates that these models can make meaningful economic predictions when properly prompted.

## Key findings

Musk's Grok AI produced notably optimistic projections for a Harris administration across tested metrics:

- **Air quality:** PM2.5 pollution would be 1.51 µg/m³ lower than under Trump (GPT-4o predicted 1.26)
- **Poverty:** Supplemental Poverty Measure 3.42 percentage points lower (vs GPT-4o's 1.76)
- **Individual prosperity:** Real GDP per capita $802 higher (vs GPT-4o's $388)

Grok's predictions exceeded GPT-4o's by factors ranging from 1.2x to 2.1x, with statistically significant differences.

## Methodology

I ran 500 trials for each model and metric using their APIs. Results remained stable across different prompting approaches. The study employed narrative prompting techniques, asking models to describe scenarios from a future perspective.

## Context and purpose

This project originated at a Manifold Markets event discussing political forecasting. Even GPT-4o-mini's more conservative estimates showed similar directional patterns.

## Broader implications

I work at PolicyEngine, which builds microsimulation models estimating how specific tax and benefit policies affect household budgets. These AI forecasts raise interesting questions about complementing precise policy analysis with broader contextual insights.

Complete methodology and results are available at [github.com/MaxGhenis/llm-presidential-outcome-forecasts](https://github.com/MaxGhenis/llm-presidential-outcome-forecasts).

---

## Why I'm a neoliberal

**URL:** https://maxghenis.com/blog/substack/why-im-a-neoliberal/
**Published:** Mar 18 2022
**Description:** My political philosophy and why I identify with neoliberalism - emphasizing evidence-based policy, market mechanisms, and a strong social safety net.

I'm competing in the Neoliberal Twitter account's annual bracket competition, which gives me an opportunity to explain my commitment to neoliberal ideology. I position neoliberalism as a pragmatic, evidence-based approach to solving pressing policy challenges through market mechanisms and strategic government intervention.

## What is neoliberalism?

Neoliberalism has been mischaracterized as selfish or warmongering. Instead, it's rooted in liberal values, emphasizing evidence-based policymaking and practical solutions. Key tenets include deregulation of housing and labor markets, carbon pricing, immigration, globalization, and a robust social safety net.

## Housing deregulation (YIMBYism)

I advocate for legalizing apartment construction, particularly dense infill housing near jobs and transit. Overregulated land use restricts freedom of movement, impedes economic growth, and harms the environment.

My activism includes:
- Joining YIMBY advocacy in San Francisco (2016)
- Campaigning for YIMBY pioneer Sonja Trauss's supervisor campaign (2018)
- Co-founding YIMBY Neoliberal organization (2018)
- Creating Ventura County YIMBY (2019), which gained over 1,500 followers

## Carbon pricing

Carbon taxation is the key ingredient for cutting carbon emissions. The IPCC identifies carbon pricing as crucial for cost-effective climate mitigation, and studies worldwide demonstrate its effectiveness.

Carbon pricing enjoys broad support: average net favorability across 18 polls since 2015 reached +33 percentage points. Most developed nations price carbon; the U.S. and Australia remain exceptions.

My contributions:
- Joined Citizens' Climate Lobby (2018)
- Led my local chapter and became California state coordinator
- Researched carbon dividends professionally
- Co-founded "Save the Gas Tax" campaign (2022) with 15 environmental organizations

## Social safety net

Economic growth alone cannot guarantee minimum living standards for non-workers or address perverse incentives in current welfare systems. I advocate for:

- Universal child allowances
- Cash assistance over in-kind benefits
- Universal basic income (UBI) as the logical endpoint

I founded the [UBI Center](https://ubicenter.org), conducting quantitative policy analysis, and co-founded [PolicyEngine](https://policyengine.org), a nonprofit technology platform enabling citizens to understand tax and benefit policy impacts. Means-testing creates administrative bloat and extreme marginal tax rates for low-income households.

## Conclusion

I'm an "extreme liberal" seeking the most effective policy solutions: address poverty through direct cash transfers, housing affordability through legalization rather than government management, and pollution through market-based pricing mechanisms. These neoliberal policies are transformative when combined.

---

